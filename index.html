<!DOCTYPE html>
<html class="col-md-6">
<head>
	<title>Super Saiyan Fusion Attack</title>

         <!-- *************************  Libraries  ****************************** -->

		<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
		<!-- BootStrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<!-- JQuery -->
		<script   src="https://code.jquery.com/jquery-2.2.4.min.js"   integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
		<!-- My Styling -->
		<link rel="stylesheet" type="text/css" href="assets/css/style.css">

		<!-- *********************************************************************** -->

		<style>
			html 
			{ 
				  background: url("assets/images/dragon.jpg") no-repeat center center fixed; 
				  -webkit-background-size: cover;
				  -moz-background-size: cover;
				  -o-background-size: cover;
				  background-size: cover;
			}

		</style>	

</head>
<body>
<div class="wrapper">
		
		<div class="jumbotron">
		  	<h1><strong>Super Saiyan Fusion Attack!</strong></h1>  
		</div>

		<div class="text-center">
			    <button class="btn btn-warning btn-xs themeButton"><span class="glyphicon glyphicon-music"></span> Play Cha-La!</button>		  	
		    	<button class="btn btn-default btn-xs pauseButton"><span class="glyphicon glyphicon-pause"></span> Pause Cha-La</button>	
			</div>
		
	
	<div class="instructions">
			<p>
				<strong>Goten and Trunks will have a random "Power Attack" at the start of
				 		every game. 
						By clicking on any of the four attacks from Goku, Gohan, Vegeta and Future Trunks, you will help Goten and Trunks to perform the "Fusion Dance".
						Once your total score matches that of the "Power Attack" at the bottom, Goten and Trunks will perform the "Fuse Dance" and you will win the game. You lose the game if your total score goes above the Power Attack. <br>
						The value of each Power Attack at the bottom is hidden from you until you click on it.
						Each time when the game starts, you will get different values for each the attacks.
				</strong>
			</p>

	</div>

		<div id="scoreCounter">
			<img src="assets/images/newFight.gif" id="images1" alt="Fight" />
		</div>

	<div id="winLose">
		<div><p>Wins: <span id="winCounter">0</span></p></div>
		<div><p>Losses: <span id="loseCounter">0</span></p></div>
	</div>

		<div>
	      <img class="images" src="assets/images/kameha.jpg" id="goku" alt="Kameha Wave" />
	      <img class="images" src="assets/images/masenko.png" id="gohan" alt="Masenko" />
	      <img class="images" src="assets/images/bigbang.jpg" id="vegeta" alt="Big Bang" />
	      <img class="images" src="assets/images/sword.png" id="trunks" alt="Sword" />	      
	    </div>

			<div id="totalScore">
				<p>Your total score is: <span id="totalScoreWindow">0</span></p>
			</div>

<div id="powerAttack">
	<h3>POWER ATTACK!</h3>
	<p><span id="powerAttackWindow">0</span></p>
</div>


<div></div>

</div> <!-- Closing tag for wrapper -->
<script>

$(document).ready(function(){
	
	/*************************  Audio File For the Game  ******************************/
			var audioElement = document.createElement('audio');
				        audioElement.setAttribute('src', 'Assets/chala.mp3');

	        $(".themeButton").on("click", function(){
        		audioElement.play();
			});

			$(".pauseButton").on("click", function(){
        		audioElement.pause();
			});

	/***********************************************************************************/

	var goku = 0;
	var gohan = 0;
	var vegeta = 0;
	var trunks = 0;
	var totalScore = 0;
	var powerAttack = 0;
	var wins = 0;
	var losses = 0;

	function initializeGame() // Initializes the game and resets 
	{
		goku = Math.floor(Math.random() * (12 - 1 + 1)) + 1;
		gohan = Math.floor(Math.random() * (12 - 1 + 1)) + 1;
		vegeta = Math.floor(Math.random() * (12 - 1 + 1)) + 1;
		trunks = Math.floor(Math.random() * (12 - 1 + 1)) + 1;
		powerAttack = Math.floor(Math.random() * (120 - 19 + 1)) + 19;
		totalScore = 0;
		document.querySelector('#totalScoreWindow').innerHTML = totalScore;
		document.querySelector('#powerAttackWindow').innerHTML = powerAttack;
		$("#images1").attr("src", "assets/images/newFight.gif");
	};

	function checkWin()
		{
			if(totalScore === powerAttack)
			{
				wins+=1;
				alert("You won!");
				$("#images1").attr("src", "assets/images/finalFusion.gif");
				document.querySelector('#winCounter').innerHTML = wins;
			} 	else if(totalScore > powerAttack)
				{
					losses+=1;
					alert("You lost!");
					document.querySelector('#loseCounter').innerHTML = losses;
				}
		};

	$('#goku').on('click', function(event){
		totalScore += goku;
		document.querySelector('#totalScoreWindow').innerHTML = totalScore;
		checkWin();
		if(totalScore === powerAttack || totalScore > powerAttack)
		{
			initializeGame();
		}
	});

	$('#gohan').on('click', function(event){
		totalScore += gohan;
		document.querySelector('#totalScoreWindow').innerHTML = totalScore;
		checkWin();
		if(totalScore === powerAttack || totalScore > powerAttack)
		{
			initializeGame();
		}
	});

	$('#vegeta').on('click', function(event){
		totalScore += vegeta;
		document.querySelector('#totalScoreWindow').innerHTML = totalScore;
		checkWin();
		if(totalScore === powerAttack || totalScore > powerAttack)
		{
			initializeGame();
		}
	});

	$('#trunks').on('click', function(event){
		totalScore += trunks;
		document.querySelector('#totalScoreWindow').innerHTML = totalScore;
		checkWin();
		if(totalScore === powerAttack || totalScore > powerAttack)
		{
			initializeGame();
		}
	});

	initializeGame();	

});

</script>
</body>
</html>